<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
        웹 앱의 HTTP 통신 방법

        HTTP란? -> 브라우저와 서버 간에 데이터를 주고받는 통신 프로토콜.
                   브라우저에서 특정 데이터를 보내달라고 요청(request)하면
                   서버에서 응답(response)으로 해당 데이터를 보내주는 방식으로 동작.

                   *서버에 해당하는 데이터를 보낸다 -> HTTP 요청을 보낸다.
        
        웹 앱 HTTP 통신의 대표적인 사레 : 제이쿼리의 ajax

        ajex -> 서버에서 받아온 데이터를 표시할 때 화면 전체를 갱신하지 않고도
                화면 일부만 변경할 수 있게하는 자바스크립트 기법.

        뷰에서도 ajax를 지원하기 위한 라이브러리를 제공한다. [axios]
    -->

    <!--
        - 뷰 리소스 -

        초기에 코어 팀에서 공식적으로 권하는 라이브러리였으나 지원 중단됨.

    -->

    <!-- 뷰 리소스로 데이터 받아오기 -->

    <div id="app">
        <button v-on:click="getData">프레임워크 목록 가져오기</button>
        <!-- 
            (1) 버튼 인스턴스 영역 안인 <div> 태그 안에 <button>태그로 추가.
                v-on:click을 이용하여 버튼을 클릭했을 때 getData()가
                호출되도록 클릭 이벤트를 설정. 
        -->
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script> <!--뷰 리소스 CDN-->
    <script>
        new Vue({
            el: '#app',
            methods: {
                getData: function() {
                    this.$http.get('https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json')
                    /*
                        (2) getDate()에는 뷰 리소스에서 제공하는 API인 this.$http.get()을 사용하여 
                            해당 URL에서 제공하는 데이터를 받아온다.
                            API 이름에서 유추할 수 있듯이 this.$http.get()은
                            HTTP GET 요청을 서버에 보내고 특정 데이터를 받아온다.
                    */
                    .then(function(response) {
                        console.log(response);
                        /*
                            (3) 그리고 버튼을 클릭하여 해당 URL로 HTTP GET 요청을 보내고나면 
                                .then()안에서 응답을 받은 데이터 response를 콘솔에 출력한다.
                        */
                        console.log(JSON.parse(response.data));
                    });
                }
            }
        });
    </script>
</body>
</html>